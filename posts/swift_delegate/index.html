<!DOCTYPE html>
<html lang="en">

<head>
    
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<meta name="HandheldFriendly" content="True" />
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />
<meta name="google-site-verification" content="8a6komFDWW2cgpWnIAvQRdVsS-xAbXgPm7p6oGNyaKY" />
<meta name="google-site-verification" content="zay748i0W0MCuBwf1nUr2vN14G8yetObcQNhc8yGA44" />
<meta name="naver-site-verification" content="6ea919fd4c63f8bb48eca38f3530facd0e86ed38" />
<meta name="generator" content="Hugo 0.88.1" />


<link rel="shortcut icon" href="https://cdn.jsdelivr.net/gh/dsrkafuu/dsr-cdn-main@1/images/favicons/dsrca.ico" />



<title>스위프트의 Delegate Pattern 정리(작성중) - Junu-Devlog</title>




<meta name="keywords" content="swift" />


<meta property="og:title" content="스위프트의 Delegate Pattern 정리(작성중)" />
<meta name="twitter:title" content="스위프트의 Delegate Pattern 정리(작성중)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://junu0516.github.io/posts/swift_delegate/" /><meta property="og:description" content="스위프트로 다양한 ViewController을 다루면서 Delegate Procotol이라는 개념을 처음 접하게 되었다. 간단히 말해 특정 이벤트나 액션이 일어나면, 미리 위임자로 지정된 delegate object가 다른 객체를 대신해 특정 행위를 하게되는 형태를 의미한다." />
<meta name="twitter:description" content="스위프트로 다양한 ViewController을 다루면서 Delegate Procotol이라는 개념을 처음 접하게 되었다. 간단히 말해 특정 이벤트나 액션이 일어나면, 미리 위임자로 지정된 delegate object가 다른 객체를 대신해 특정 행위를 하게되는 형태를 의미한다." /><meta name="twitter:card" content="summary" /><meta property="article:published_time" content="2022-02-19T00:00:00+00:00" /><meta property="article:modified_time" content="2022-02-21T02:04:22+09:00" />


<style>
    @media (prefers-color-scheme: dark) {
        body[data-theme='auto'] img {
            filter: brightness(60%);
        }
    }

    body[data-theme='dark'] img {
        filter: brightness(60%);
    }
</style>




<link rel="stylesheet" href="https://junu0516.github.io/assets/css/fuji.min.css" />





<script>
    window.dataLayer = window.dataLayer || [];

    function gtag() {
        dataLayer.push(arguments);
    }
    gtag('js', new Date());
    gtag('config', 'G-BT32LLFM07');
</script>
<script async src="https://www.googletagmanager.com/gtag/js?id=G-BT32LLFM07"></script>




<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.14.0/css/all.css" integrity="sha384-HzLeBuhoNPvSl5KYnjx0BT+WB0QEEqLprO+NBkkk5gbc67FTaL7XIGa2w1L0Xbgc" crossorigin="anonymous">
<style>
   
    
</style>

</head>

<body
  data-theme="auto"
  data-theme-auto='false'
  >
    <script data-cfasync="false">
  
  var fujiThemeData = localStorage.getItem('fuji_data-theme');
  
  if (!fujiThemeData) {
    localStorage.setItem('fuji_data-theme', 'auto');
  } else {
    
    if (fujiThemeData !== 'auto') {
      document.body.setAttribute('data-theme','light');
      
    }
  }
</script>

    <header>
    <div class="container-lg clearfix">
        <div class="header">
            <a class="title-main" href="https://junu0516.github.io/">Junu-Devlog</a>
            
        </div>
    </div>
</header>

    <main>
        <div class="container-lg clearfix">
            
            <div class="col-12 col-md-12 float-left content custom-content">
                
<article>
    
    <h2 class="post-item post-title">
        <a href="https://junu0516.github.io/posts/swift_delegate/">스위프트의 Delegate Pattern 정리(작성중)</a>
    </h2>
    <div class="post-item post-meta">
        <span>
    <i class="iconfont icon-today-sharp"></i>&nbsp;2022-02-19
</span>

<span>
    <i class="iconfont icon-sync-circle-sharp"></i>&nbsp;2022-02-21</span>


<span class="custom-post-meta-tags">
    <i class="iconfont icon-pricetags-sharp"></i>&nbsp;
    <a href="/tags/swift">swift</a>&nbsp;
</span>
<span class="custom-post-meta-categories">
    <i class="fas fa-file-alt"></i>&nbsp;
    <a href="/categories/swiftios">Swift&amp;iOS</a>&nbsp;
</span>
    </div>
    
    <div class="post-content markdown-body">
        <br>
<p>스위프트로 다양한 ViewController을 다루면서 Delegate Procotol이라는 개념을 처음 접하게 되었다. 간단히 말해 특정 이벤트나 액션이 일어나면, 미리 위임자로 지정된 delegate object가 다른 객체를 대신해 특정 행위를 하게되는 형태를 의미한다.</p>
<p>신기하면서도 매우 생소하게 다가오는 개념이라 한 번 다시 정리해보고자 한다..!</p>
<img src="https://user-images.githubusercontent.com/68586291/154847216-f3efbd1c-92ab-4bab-99e7-1598baa6f222.png" alt="image" style="zoom:70%;"/>
<h2 id="1-uiimagepickercontroller-사용">1. UIImagePickerController 사용</h2>
<blockquote>
<p>우선 UIImagePickerController을 사용하면서 Delegate Protocol에 대해 알게된 과정을 정리해보고자 한다.</p>
</blockquote>
<h3 id="1-1-uiimagepickercontroller">1-1. UIImagePickerController</h3>
<p>​</p>
<img src="https://user-images.githubusercontent.com/68586291/154623719-999c412d-e4fb-4a6e-8d8b-cc83277b00b3.gif" alt="image" style="zoom:50%;"/>
<p>​</p>
<p><strong><code>UIImagePickerController</code></strong> 은 위의 이미지와 같이 시스템 인터페이스를 다룸으로써 라이브러리에서 사진을 가져오거나, 직접 사진을 촬영하는 등의 상황에서 사용하는 ViewController(이하 뷰컨트롤러)이다.</p>
<p><a href="https://developer.apple.com/documentation/uikit/uiimagepickercontroller" target="_blank">공식문서</a> 의 설명을 보면 해당 컨트롤러는 사진의 선택 혹은 촬영과 같은 사용자의 동작에 대한 결과를 <strong><code>delegate object</code></strong> 에 전달하며, <strong><code>delegate object</code></strong> 는 <strong><code>UIImagePickerControllerDelegate</code></strong> 라는 프로토콜의 요구사항을 준수(conform)해야 함을 아래와 같이 명시하고 있다.</p>
<pre tabindex="0"><code>you must provide a delegate that conforms to the UIImagePickerControllerDelegate procotol.
</code></pre><p>실제로 <strong><code>UIViewController</code></strong> 의 내부 구조를 보면 프로퍼티로 <strong><code>delegate</code></strong> 라는 프로퍼티를 가지고 있는 것을 확인할 수 있는데, 공식문서에서는 이것이 위에서 언급하는 <strong><code>delegate object</code></strong> 에 해당한다.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift">
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyViewController</span>: UIViewController, UIImagePickerControllerDelegate {
		
  	<span style="color:#66d9ef">private</span> <span style="color:#66d9ef">var</span> imagePicker = UIImagePickerController()
  	<span style="color:#66d9ef">@IBOutlet</span> <span style="color:#66d9ef">weak</span> <span style="color:#66d9ef">var</span> selectButton: UIButton!
  
    <span style="color:#66d9ef">@IBAction</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">selectButtonTouched</span>(<span style="color:#66d9ef">_</span> sender: UIButton) {
      <span style="color:#75715e">//버튼이 눌리면 사진 선택 화면(View)를 보여줌</span>
      <span style="color:#66d9ef">self</span>.present(imagePicker, animated: <span style="color:#66d9ef">true</span>, completion: <span style="color:#66d9ef">nil</span>)
    }
  
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">viewDidLoad</span>() {
        <span style="color:#66d9ef">super</span>.viewDidLoad()
        <span style="color:#75715e">//UIImagePickerController의 delegate object로 현재 MyViewController을 지정</span>
        imagePicker.delegate = <span style="color:#66d9ef">self</span>
        <span style="color:#75715e">//사진앨범에서 이미지를 가져올 것임을 명시</span>
        imagePicker.sourceType = .photoLibrary
    }
}
</code></pre></div><p>위의 코드는 이러한 지침을 적용해서 작성한 간단한 ViewController 클래스 코드이다. 작성한  <strong><em>imagePicker.delegate = self</em></strong>  는 클래스가 가지고 있는 UIImagePickerController 인스턴스의 <strong><code>delegate object</code></strong> 가 자기 자신(MyViewController)이 될 것임을 의미한다. 또한 이를 위해 해당 클래스가  <strong><code>UIImageControllerDelegate</code></strong> 을 채택하고 있음을 명시하였다.</p>
<p>이후 선택 버튼(selectButton)을 누르면 미리 지정해둔 <strong><code>selectedButtonTouched</code></strong> 액션 메소드가 실행되면서 화면에 사진선택을 위한 창이 뜨게 된다.</p>
<p>​</p>
<h3 id="1-2-uiimagepickercontrollerdelegate">1-2. UIImagePickerControllerDelegate</h3>
<p>그렇다면 채택한 <strong><code>UIImageControllerDelegate</code></strong> 프로토콜은 구체적으로 무슨 역할을 하는 걸까?</p>
<p><a href="https://developer.apple.com/documentation/uikit/uiimagepickercontrollerdelegate" target="_blank">공식문서</a> 에서는 해당 프로토콜에 대해 아래와 같이 정의하고 있다.</p>
<pre tabindex="0"><code>A set of methods that your delegate object must implement to interact with the image picker interface.
</code></pre><p>간단히 말해 image picker 인터페이스와 관련된 <strong>사용자 동작의 결과를 처리하는 메소드들을 담고 있는 프로토콜로 이해할 수 있다.</strong> 또한 동작의 결과를 처리하는 메소드들은 결과적으로 프로토콜을 채택한 <strong><code>delegate object</code></strong> 내부에서 구현되야 할 것이다.</p>
<p>​</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-swift" data-lang="swift"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">MyViewController</span>: UIViewController, UIImagePickerControllerDelegate {
  <span style="color:#75715e">/*
</span><span style="color:#75715e">      나머지 부분 생략
</span><span style="color:#75715e">  */</span>
  
  <span style="color:#75715e">//UIImagePickerControllerDelegate의 필요 메소드 구현</span>
  <span style="color:#66d9ef">func</span> <span style="color:#a6e22e">imagePickerController</span>(<span style="color:#66d9ef">_</span> picker: UIImagePickerController, 
                             didFinishPickingMediaWithInfo info: [UIImagePickerController.InfoKey : Any]) {
    
    <span style="color:#75715e">//라이브러리로부터 가져온 이미지(UIImage)</span>
    <span style="color:#66d9ef">let</span> selectedImage = info[UIImagePickerController.InfoKey.originalImage] <span style="color:#66d9ef">as</span>? UIImage
    
    <span style="color:#75715e">//뷰컨트로러의 imageView의 image로 가져온 이미지를 할당</span>
    <span style="color:#66d9ef">self</span>.imageView.image = selectedImage
    
    <span style="color:#75715e">//화면에 띄웠던 UIImagePickerController의 View를 해제</span>
    picker.dismiss(animated: <span style="color:#66d9ef">true</span>, completion: <span style="color:#66d9ef">nil</span>)
  }
}
</code></pre></div><p>위의 코드의 <strong><code>imagePickerController()</code></strong> 메소드가 바로 앞서 언급한 사용자 동작의 결과를 처리하는 메소드가 된다. 공식문서에서는 해당 메소드에 대해 <em>&lsquo;Tells the delegate that the user picked a still image or movie.'</em> 와 같이 <strong><code>delegate object</code></strong> 에 사용자의 이미지 선택의 결과를 전달하는 것으로 설명하고 있다.</p>
<p>​</p>
<p>위와 같이 작성한 후 실제로 <strong><code>selectButtonTouched</code></strong> 메소드를 실행시키면 앨범에서 사진을 선택하는 창이 나타나면서  <strong><code>imagePickerController</code></strong> 메소드의 내부 로직이 실행되는 것을 확인할 수 있다.</p>
<img src="https://user-images.githubusercontent.com/68586291/154850655-7b768528-916a-453c-bbe5-75cf5ae4033a.png" alt="image" style="zoom:80%;"/>
<p>위의 그림과 같이 정리해보면 우선  <strong><code>UIImpagePickerController</code></strong> 은 사용자의 동작 결과를 처리하는 일을 <strong><code>MyViewController</code></strong> 에 위임(delegate) 하였고, 해당 뷰컨트롤러는 <strong><code>UIImagePickerControllerDelegate</code></strong> 를 채택함으로써 <strong><code>delegate object</code></strong> 로서 기능하게 된다.</p>
<p>이후 UIImagePickerController은 사용자 동작의 결과를 <strong><code>UIImagePickerControllerDelegate</code></strong> 를 거쳐 <strong><code>MyViewController</code></strong> 에 전달하게 되며, <strong><code>MyViewController</code></strong> 내부에서는 <strong><code>UIImagePickerControllerDelegate</code></strong> 를 채택하면서 구현한  <strong><code>imagePickerController()</code></strong> 메소드가 실행되는 것이다.</p>
<p>​</p>
<p>별 것 아닌 것처럼 보이지만, 실제로 클래스 내부에서 <strong><code>imagePickerController</code></strong> <strong>메소드를 직접적으로 호출하는 로직을 명시하지 않았음에도 불구하고 메소드 내부의 로직이 자동으로 실행된 것을 확인할 수 있다.</strong></p>
<p>​</p>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://developer.apple.com/documentation/uikit/uiimagepickercontrollerdelegate" target="_blank">UIImagePickerControllerDelegate - 애플 공식문서</a></li>
</ul>
<p>​</p>

    </div>
    <hr>
    <script src="https://utteranc.es/client.js"
        repo="junu0516/blog"
        issue-term="pathname"
        theme="github-light"
        crossorigin="anonymous"
        async>
</script>
</article>




            </div>
            <aside class="col-12 col-md-3 float-left sidebar">
    
    
    <div class="sidebar-item sidebar-toc">
        <nav id="TableOfContents">
  <ul>
    <li><a href="#1-uiimagepickercontroller-사용">1. UIImagePickerController 사용</a>
      <ul>
        <li><a href="#1-1-uiimagepickercontroller">1-1. UIImagePickerController</a></li>
        <li><a href="#1-2-uiimagepickercontrollerdelegate">1-2. UIImagePickerControllerDelegate</a></li>
      </ul>
    </li>
    <li><a href="#reference">Reference</a></li>
  </ul>
</nav></div>
</aside>

        </div>
        <div class="btn">
    
    <div class="btn-menu" id="btn-menu">
        <i class="iconfont icon-grid-sharp"></i>
    </div>
    <div class="btn-toggle-mode" style="display: none;">
        <i class="iconfont icon-contrast-sharp"></i>
    </div>
    
    <div class="btn-scroll-top">
        <i class="iconfont icon-chevron-up-circle-sharp"></i>
    </div>
</div>

<aside class="sidebar-mobile" style="display: none;">
  <div class="sidebar-wrapper">
    <div class="sidebar-item">
        <h3>About</h3>
        <ul>
            <li>
                <img src="/img/profile.png" class="custom-profile-img-mobile">
            </li>
            <li style="margin-top: 5%;">
                <a class="custom-social-link-mobile" href="https://github.com/junu0516" target="_blank"><i class="fab fa-github"></i></a>
                <a class="custom-social-link-mobile" href="https://linkedin.com/in/junu0516/" target="_blank"><i class="fab fa-linkedin"></i></a>
                <a class="custom-social-link-mobile" href="https://instagram.com/junu0516" target="_blank"><i class="fab fa-instagram"></i></a>    
            </li>
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-pages" style="display: none;">
        <h3>Pages</h3>
        <ul>
            
        </ul>
    </div>
    
    <div class="sidebar-item sidebar-links" style="display: none;">
        <h3>Links</h3>
        <ul>
            
            <li>
                <a href="https://github.com/junu0516" target="_blank"><span>GitHub</span></a>
            </li>
            
            <li>
                <a href="https://twitter.com/dsrkafuu" target="_blank"><span>Linkedin</span></a>
            </li>
            
            <li>
                <a href="https://space.bilibili.com/19767474" target="_blank"><span>Instagram</span></a>
            </li>
            
        </ul>
    </div>


    
    <div class="sidebar-item sidebar-tags" >
        <h3>Categories</h3>
        <ul style="list-style: none !important;">
            
            <li>
                <a href="/categories/computer-science/">Computer Science</a>
            </li>
            
            <li>
                <a href="/categories/javaspring/">Java&amp;Spring</a>
            </li>
            
            <li>
                <a href="/categories/swiftios/">Swift&amp;iOS</a>
            </li>
            
        </ul>
    </div>
        
        <div class="sidebar-item sidebar-tags" style="display: none;">
            <h3>Tags</h3>
            <div>
                
                <span>
                    <a href="/tags/java/">java</a>
                </span>
                
                <span>
                    <a href="/tags/spring/">spring</a>
                </span>
                
                <span>
                    <a href="/tags/swift/">swift</a>
                </span>
                
                <span>
                    <a href="/tags/%EB%84%A4%ED%8A%B8%EC%9B%8C%ED%81%AC/">네트워크</a>
                </span>
                
                <span>
                    <a href="/tags/%EC%9A%B4%EC%98%81%EC%B2%B4%EC%A0%9C/">운영체제</a>
                </span>
                
                <span>
                    <a href="/tags/%EC%9E%90%EB%A3%8C%EA%B5%AC%EC%A1%B0/">자료구조</a>
                </span>
                
            </div>
        </div>
    
    
    
    
  </div>
</aside>
    </main>

    <footer>
    <div class="container-lg clearfix">
        <div class="col-12 footer">
            
            <span>&copy; 2022
                <a href="https://junu0516.github.io/"></a>
                
                | Powered by <a href="https://github.com/dsrkafuu/hugo-theme-fuji/"
                   target="_blank">Fuji-v2</a> &amp; <a href="https://gohugo.io/"
                                                    target="_blank">Hugo</a> 
            </span>
        </div>
    </div>
</footer>

    
<script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.6/dist/medium-zoom.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/lazysizes@5.3.2/lazysizes.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/components/prism-core.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/prismjs@1.23.0/plugins/autoloader/prism-autoloader.min.js"></script>



<script defer src="/assets/js/fuji.min.js"></script>



</body>

</html>
